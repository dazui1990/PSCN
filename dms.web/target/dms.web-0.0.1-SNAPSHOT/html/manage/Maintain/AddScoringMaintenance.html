<style type="text/css">
.col-center-block {
	float: none;
	display: block;
	margin-left: auto;
	margin-right: auto;
}
</style>
<div class="dms-add">
	<form class="form-horizontal">
		<div class="modal-header">
			<div class="modal-title">得分规则维护新增</div>
			<div class="modal-close">
				<a data-dismiss="modal" class="btn btn-lg"> <i
					class="fa fa-remove"></i></a>
			</div>
		</div>
		<div class="modal-body">
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="row ">
						<div class="center-block">
							<div class="col-xs-12 col-sm-6 col-md-4 col-center-block ">
								<div class="form-group">
									<label class="control-label col-xs-4">分类:</label>
									<div class="col-xs-8">
									<select id="fenlei" name="fenlei"  
										data-dictCode="9911" >
										</select>
								</div>
								</div>
							</div>
						</div>

					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">得分规则名称:</label>
									<div class="col-xs-8">
										<input type="text" id="scorerule_name" class="form-control"
											name="scorerule_name" value="" />
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足1项得</label>
									<div class="col-xs-2">
										<input type="text" id="score1" class="form-control decimal"
											name="score1"  value=""  />

									</div>
									<label class="control-label col-xs-1 required decimal">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足2项得</label>
									<div class="col-xs-2">
										<input type="text" id="score2" class="form-control decimal"
											name="score2"  value=""  />

									</div>
									<label class="control-label col-xs-1 required decimal">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足3项得</label>
									<div class="col-xs-2">
										<input type="text" id="score3" class="form-control"
											name="score3"  value=""  />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足4项得</label>
									<div class="col-xs-2">
										<input type="text" id="score4" class="form-control"
											name="score4"  value=""  />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足5项得</label>
									<div class="col-xs-2">
										<input type="text" id="score5" class="form-control"
											name="score5"  value=""  />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足6项得</label>
									<div class="col-xs-2">
										<input type="text" id="score6" class="form-control"
											name="score6"  value=""  />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足7项得</label>
									<div class="col-xs-2">
										<input type="text" id="score7" class="form-control"
											name="score7"  value=""  />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn">
									<label class="control-label col-xs-4 required ">满足8项得</label>
									<div class="col-xs-2">
										<input type="text" id="score8" class="form-control"
											name="score8"  value="" />

									</div>
									<label class="control-label col-xs-1 required ">分</label>
								</div>
							</div>
						</div>
					</div>

					<div class="row   ">
						<div class="col-xs-12 col-sm-6 col-md-4  col-center-block">
							<div class="form-group  ">
								<div class="query-btn  ">
									<label class="control-label col-xs-4  required " style="color:red">注意:多项目评价基准中否决项若不满足得0分</label>
								</div>
							</div>
						</div>
					</div>
					<div class="panel-body">
						<table
							class="table table-striped table-bordered table-hover table-responsive"
							id="dmsa_table">
						</table>
					</div>
					<div class="modal-footer">
						<a id="updateSave" data-model="manage"
							data-url="/Evaluation/addguize" data-method="POST" data-beforeRequest="true"
							data-callBack="true" class="btn blue" data-toggle="confirmation"><i
							class="fa fa-save"></i>保存</a> <a data-dismiss="modal"
							class="btn blue"><i class="fa fa-undo"></i>返回</a>
					</div>
				</div>
			</div>

		</div>

	</form>
</div>
<script type="text/javascript">
$(document).one("onload.dms",function(event,container){
	$("a[data-beforeRequest='true']", container).on("beforeRequest.dms",function(event, returnResult) {
		 var score1=$('#score1').val();
		 var score2=$('#score2').val();
		 var fenlei=$('#fenlei').val();scorerule_name
		 var scorerule_name=$('#scorerule_name').val();
		
		 if(fenlei==""){
			 dmsCommon.tip({status:"warning",msg:"请选择分类"});  
			 returnResult.status=false; 
		 }
		 else if(scorerule_name==''){
			 dmsCommon.tip({status:"warning",msg:"得分规则名称"}); 
			 returnResult.status=false; 
		 }
		 else if(score1==""){
			 dmsCommon.tip({status:"warning",msg:"请填写得分"}); 
			 returnResult.status=false; 
		 }
		 else if(fenlei==99111001){
		
			
			 if(score2!=""){
				 dmsCommon.tip({status:"warning",msg:"选择唯一评价时,得分不能填多项"}); 
				 returnResult.status=false; 
			 }else{
				 returnResult.status = true; 
			 }
		 }else{
			 returnResult.status = true; 
		 }
		
	});
	$("a[data-callBack='true']",container).on("callBack.dms",function(event,response){
		//关闭窗口
		$("a[data-dismiss='modal']",container).click();
		//刷新表格
		$("#dms11_table",getElementContext()).dmsTable().refreshTableWithForm();
	});
	
});
</script>